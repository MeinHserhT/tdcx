<script>
  var onElmClick = function (elm_str, callBack) {
    document.addEventListener("click", function (event) {
      if (event.target.closest(elm_str)) {
        callBack(event);
      }
    });
  };

  onElmClick("[type=submit], [type=submit] *", function (e) {
    var _btn = e.target;
    var _parent = _btn.closest("form");
    if (_parent) {
      var _input = _parent.querySelector('[type="email"]');
      _input && _input.value && (email = _input.value);
    }
    dataLayer.push({
      email: email,
    });
  });
</script>

